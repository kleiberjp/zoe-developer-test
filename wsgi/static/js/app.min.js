function csrfcookie(){var e=null,a="csrftoken";if(document.cookie&&document.cookie!==""){var d=document.cookie.split(";");for(var c=0;c<d.length;c++){var b=d[c].trim();if(b.substring(0,a.length+1)==(a+"=")){e=decodeURIComponent(b.substring(a.length+1));break}}}return e}$(document).ready(function(){window.showErrors=function(b,a){$.each(a,function(d,g){var c="#"+b+" [name="+g.field+"]";try{var h=$(c).parents(".form-group");$(h).addClass("has-error");$(h).find(".help-block").html(g.message)}catch(i){var h=$(c).parents(".form-group")[0];$(h).addClass("has-error");$(h).find(".help-block").html(g.message)}try{var f=$(c+" + .help-block");$(f).html(g.message)}catch(i){var f=$(c+" + .help-block")[0];$(f).html(g.message)}})};window.removeErrors=function(a){$("#"+a+"Message").html("");$("#"+a+" .help-block").html("");$("#"+a+" .form-group").removeClass("has-error")};window.cleanFields=function(a){$("#"+a+" input[type=text]").val("");$("#"+a+" textarea").val("");$("#"+a+" input[type=number]").val("");$("#"+a+" input[type=select]").val("");$("#"+a+" input[type=radio]").val("");$("#"+a+" input[type=checkbox]").val("");$("#"+a+" input[type=password]").val("");$("#"+a+" input[type=datetime-local]").val("");$("#"+a+' select option[value=""]').attr("selected",true)};$("#matchForm").submit(function(){var c=$(this).attr("id");var b=$("#"+c+" [type='submit']")[0];var a=b.innerHTML;removeErrors(c);cleanErrors();$.ajax({type:$(this).attr("method"),url:$(this).attr("action"),data:$(this).serialize(),beforeSend:function(){$("#"+c+" [type='submit']").attr("disabled","disabled").html("Making Match ...")},success:function(d){if(d.hasErrors){showErrors(c,d.errors)}if(d.hasMessage){showMessage(d.message)}if(d.success){$("#match-agent-container").html(d.matchs);$("#matchAgentModal").modal()}},complete:function(e,d){$("#"+c+" [type='submit']").removeAttr("disabled").html(a)}});return false});$("#upload-file").submit(function(a){var d=$(this).attr("id");var c=$("#"+d+" [type='submit']")[0];var b=c.innerHTML;removeErrors(d);$(this).ajaxSubmit({type:$(this).attr("method"),url:$(this).attr("action"),beforeSend:function(){$("#"+d+" [type='submit']").attr("disabled","disabled").html("Enviando ...")},success:function(e){if(e.hasMessage){showMessage(data.message)}if(e.success){cleanFields(d);succesMessage(data.message)}},complete:function(f,e){$("#"+d+" [type='submit']").removeAttr("disabled").html(b)}});return false})});function cleanErrors(){$("#output").removeClass("alert alert-success alert-danger animated fadeInUp")}function showMessage(a){$("#output").removeClass(" alert alert-success");$("#output").addClass("alert alert-danger animated fadeInUp").html(a)}function succesMessage(a){$("#output").addClass("alert alert-success animated fadeInUp").html(a);$("#output").removeClass(" alert-danger")};